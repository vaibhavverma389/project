<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Admin Panel - The Smart Bus Booking</title>
  <link rel="stylesheet" href="./css/admin.css">
  <link rel="stylesheet" href="./css/style.css">
</head>
<body>
  <header class="main-header">
    <div class="nav-container">
      <div class="logo">
        <a href="admin-dashboard.html" class="logo">
          <img src="./image/bus.png" alt="Logo" style="height: 40px;">
          <span>The Smart Bus</span>
        </a>
      </div>
      <div class="menu-toggle" onclick="toggleMenu()">☰</div>
      <nav class="nav-links" id="navLinks">
        <a href="index.html">Home</a>
        <a href="about.html">About Us</a>
        <a href="contact.html">Contact Us</a>
      </nav>
    </div>
  </header>

  <br><br><br><br><br>

  <!-- 🔐 Admin Login -->
  <div class="loginForm">
    <h2>🔐 Admin Login</h2>
    <form id="loginForm">
      <input type="email" id="email" placeholder="Email" required /><br>
      <input type="password" id="password" placeholder="Password" required /><br>
      <button type="submit">Login</button>
    </form>
    <div id="error" style="color: red;"></div>
  </div>

  <!-- 🛠 Admin Panel -->
  <div id="panel" style="display:none; text-align: initial;">
    <h2>🛠 Admin Dashboard <button class="logout-btn" onclick="logout()">Logout</button></h2>

    <div class="show">
      <button onclick="showSection('adminSection')">👮 Manage Admins</button>
      <button onclick="showSection('coordinaterSection')">👮 Manage Co Admins</button>
      <button onclick="showSection('studentsSection')">👨‍🎓 Students</button>
      <button onclick="showSection('busSection')">🚌 Buses</button>
      <button onclick="showSection('centerSection')">🏫 Exam Centers</button>
      <button onclick="showSection('pickupSection')">📍 Pickup Points</button>
      <button onclick="showSection('bookingsSection')">📦 Bookings</button>
      <button onclick="showSection('downloadSection')">📥 Export Excel</button>
      <button onclick="showSection('qrcodeupload')">📥 Qr Code Adding</button>
    </div>

  
      
<div class="section" id="coordinaterSection" style="display: none;">
  <h2>👮 Manage Coordinators</h2>

  <form id="coordinatorForm">
    <input type="hidden" id="coordinatorId" />
    <input type="text" id="coordName" placeholder="Name" required />
    <input type="email" id="coordEmail" placeholder="Email" required />
    <input type="password" id="coordPassword" placeholder="Password" required />
    <button type="submit" id="coordSubmitBtn">➕ Add Coordinator</button>
  </form>

  <table id="coordinatorTable" border="1" style="width: 100%; margin-top: 20px;">
    <thead>
      <tr><th>Name</th><th>Email</th><th>Actions</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</div>



    <div class="section" id="qrcodeupload" style="display: none;">
  <h2>📤 Upload QR Code & Assign Coordinator</h2>

  <div class="form-group">
    <label for="qrcode">Upload QR Code (Image)</label>
    <input type="file" id="qrcode" accept="image/*" onchange="previewImage(event)" />
    <img id="preview" style="max-width: 200px; margin-top: 10px;" />
  </div>

  <div class="form-group">
    <label for="qrid">Enter QR ID / UPI ID</label>
    <input type="text" id="qrid" placeholder="e.g. vaibhav@upi" />
  </div>

  <div class="form-group">
    <label for="coadmin">Assign Coordinator</label>
    <select id="coadmin">
      <option value="">-- Select Coordinator --</option>
    </select>
  </div>

  <button onclick="uploadQR()">🚀 Upload & Assign</button>
</div>

    <!-- 👮 Admin Management -->
    <div class="section" id="adminSection">
  <h3>👥 Add Admin</h3>
  <input type="text" id="adminName" placeholder="Full Name" required />
  <input type="tel" id="adminMobile" placeholder="Mobile Number" required />
  <input type="email" id="adminEmail" placeholder="Email" required />
  <input type="password" id="adminPassword" placeholder="Password" required />
  <input type="password" id="adminConfirmPassword" placeholder="Confirm Password" required />
  <button onclick="addAdmin()">➕ Add Account</button>

  <hr>

  <h3>📋 All Admins</h3>
  <ul id="adminList"></ul>
</div>




    

    <!-- <div class="section" id="coordinatorSection">
  <h3>👤 Add Coordinator</h3>
  <input type="text" id="coordName" placeholder="Full Name" required />
  <input type="tel" id="coordMobile" placeholder="Mobile Number" required />
  <input type="email" id="coordEmail" placeholder="Email" required />
  <input type="password" id="coordPassword" placeholder="Password" required />
  <input type="password" id="coordConfirmPassword" placeholder="Confirm Password" required />
  <button onclick="addCoordinator()">➕ Add Coordinator</button>

  <h3>📃 All Coordinators</h3>
  <ul id="coordList"></ul>
</div> -->


    <!-- 👨‍🎓 Students -->
    <div class="section" id="studentsSection">
      <h3>👨‍🎓 Registered Students</h3>
      <input type="text" id="studentSearch" placeholder="Search by name or mobile" oninput="filterStudents()" />
      <input type="file" id="excelFileInput" />
      <button onclick="uploadStudentsExcel()">Upload Students Excel</button>
      <ol id="studentsList"></ol>
    </div>

    <!-- 🚌 Bus Management -->
    <div class="section" id="busSection">
      <h3>🚌 Add Bus</h3>
      <input type="text" id="busName" placeholder="Bus Name" />
      <input type="number" id="seatCount" placeholder="Seat Count" />
      <input type="date" id="travelDate" />
      
      <label>🚏 Pickup Points</label>
      <div id="pickupCheckboxes"></div>

      <label>🏫 Exam Center</label>
      <select id="examCenter">
        <option value="">-- Select Center --</option>
      </select>

      <select id="busTiming">
        <option value="">Select Timing</option>
        <option value="Forenoon">Forenoon</option>
        <option value="Afternoon">Afternoon</option>
      </select>

      <input type="number" id="price" placeholder="Price ₹" />
      <!-- <button onclick="addBus()">Add Bus</button> -->
       <button id="addBusBtn" onclick="addBus()">Add Bus</button>


      <ul id="busList"></ul>
    </div>

    <!-- 🏫 Centers -->
    <div class="section" id="centerSection">
      <h3>🏫 Exam Centers</h3>
      <input type="text" id="centerInput" placeholder="Center Name" />
      <button onclick="addCenter()">Add Center</button>
      <ul id="centerList"></ul>
    </div>

    <!-- 📍 Pickup Points -->
    <div class="section" id="pickupSection">
      <h3>📍 Pickup Points</h3>
      <input type="text" id="pickupInput" placeholder="Pickup Name" />
      <button onclick="addPickup()">Add Pickup</button>
      <ul id="pickupList"></ul>
    </div>

    <!-- 📥 Excel Download -->
    <div class="section" id="downloadSection">
      <h3>📥 Export Data</h3>
      <button onclick="downloadStudents()">Download Students Excel</button>
      <button onclick="downloadBookings()">Download Bookings Excel</button>
      <button onclick="downloadBusBookings()">📊 Bus-wise Booking Details</button>
      <button onclick="downloadStudentStatus()">🧾 Students Booking Status</button>
    </div>

    <!-- 📅 Filter Bookings by Date -->
     <!-- 📦 Bookings -->
<div class="section" id="bookingsSection" style="display: none;">
  <h3>📦 All Bookings</h3>
  <ul id="bookingsList"></ul>
</div>

    
  </div>

  <br><br><br><br><br><br>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-col">
        <img src="./image/bus.png" alt="Logo" class="footer-logo" />
        <h3>Thesmartbus.in</h3>
        <p>The leading student bus ticket booking platform, making travel easier and more affordable.</p>
      </div>
      <div class="footer-col">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About Us</a></li>
          <li><a href="contact.html">Contact Us</a></li>
          <li><a href="#">Terms & Conditions</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Services</h4>
        <ul>
          <li><a href="booking.html" style="color: green;">Ticket Booking</a></li>
          <li><a href="ticket.html">My Tickets</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Connect With Us</h4>
        <div class="footer-icons">
          <a href="https://www.linkedin.com/in/vaibhavverma389/"><i class="fab fa-linkedin-in"></i></a>
          <a href="https://www.instagram.com/vaibhavverma389/"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
        </div>
        <p>Email: contact@thesmartbus.in</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>© 2025 Thesmartbus.in. All rights reserved.</p>
      <p>SINCE 2025</p>
    </div>
  </footer>

  <script src="./js/admin.js"></script>
</body>
</html>
